<?php

function codepiont_to_farsichar($i){
			switch($i){
				case "0621":
				case "\u0621":
				case "U+0621":
				case "d8a1":
					return "ء";	
					
				case "0627":
				case "\u0627":
				case "U+0627":
				case "d8a7":
					return "ا";
					
				case "0628":
				case "\u0628":
				case "U+0628":
				case "d8a8":
					return "ب";
					
				case "062A":
				case "\u062A":
				case "U+062A":
				case "d8aa":
					return "ت";
				
				case "062B":
				case "\u062B":
				case "U+062B":
				case "d8ab":
					return "ث";
					
				case "062C":
				case "\u062C":
				case "U+062C":
				case "d8ac":
					return "ج";
										
				case "062D":
				case "\u062D":
				case "U+062D":
				case "d8ad":
					return "ح";
					
					
				case "062E":
				case "\u062E":
				case "U+062E":
				case "d8ae":
					return "خ";
																		
				case "0622":
				case "\u0622":
				case "U+0622":
				case "d8a2":
					return "آ";
					
				case "062f":
				case "\u062f":
				case "U+062f":
				case "062f":
					return "د";
					
				case "0630":
				case "\u0630":
				case "U+0630":
				case "0630":
					return "ذ";
					
				case "0631":
				case "\u0631":
				case "U+0631":
				case "d8b1":
					return "ر";
					
				case "0632":
				case "\u0632":
				case "U+0632":
				case "d8b2":
					return "ز";
					
				case "0633":
				case "\0633":
				case "U+0633":
				case "d8b3":
					return "س";
					
				case "0634":
				case "\u0634":
				case "U+0634":
				case "d8b4":
					return "ش";
					
				case "0635":
				case "\u0635":
				case "U+0635":
				case "d8b5":
					return "ص";
					
				case "0638":
				case "\u0638":
				case "U+0638":
				case "d8b8":
					return "ظ";
					
				case "0639":
				case "\u0639":
				case "U+0639":
				case "d8b9":
					return "ع";
					
				case "063A":
				case "\u063A":
				case "U+063A":
				case "d8ba":
					return "غ";
					
				case "0641":
				case "\u0641":
				case "U+0641":
				case "d981":
					return "ف";
					
				case "0642":
				case "\u0642":
				case "U+0642":
				case "d982":
					return "ق";
				case "0643":
				case "\u0643":
				case "U+0643":
				case "d983":
					return "ک";
					
				case "06AF":
				case "\u06AF":
				case "U+06AF":
				case "daaf":
					return "گ";
										
				case "0644":
				case "\u0644":
				case "U+0644":
				case "d984":
					return "ل";
					
				case "0645":
				case "\u0645":
				case "U+0645":
				case "d985":
					return "م";
					
				case "0646":
				case "\u0646":
				case "U+0646":
				case "d986":
					return "ن";
					
				case "0647":
				case "\u0647":
				case "U+0647":
				case "d987":
					return "ه";
					
				case "0648":
				case "\u0648":
				case "U+0648":
				case "d988":
					return "و";
					
				case "0649":
				case "\u0649":
				case "U+0649":
				case "d989":
					return "ی";
					
				case "0698":
				case "\u0698":
				case "U+0698":
				case "da98":
					return "ژ";
					
				case "067E":
				case "\u067E":
				case "U+067E":
				case "d9be":
					return "پ";
								
				case "fe90":
        case "\ufe90":
          return "ﺐ";

        case "fe91":
        case "\ufe91":
          return "ﺑ";
          
        case "fe92":
        case "\ufe92":
          return "ﺒ";
          
        case "fe93":
        case "\ufe93":
          return "ﺓ";
          
        case "fe94":
        case "\ufe94":
          return "ﺔ";
          
        case "fe95":
        case "\ufe95":
          return "ﺕ";
          
        case "fe96":
        case "\ufe96":
          return "ﺖ";

        case "fe97":
        case "\ufe97":
          return "ﺗ";

        case "fe98":
        case "\ufe98":
          return "ﺘ";

        case "fe99":
        case "\ufe99":
          return "ﺙ";

        case "fe9a":
        case "\ufe9a":
          return "ﺚ";

        case "fe9b":
        case "\ufe9b":
          return "ﺛ";

        case "fe9c":
        case "\ufe9c":
          return "ﺜ";

        case "fe9d":
        case "\ufe9d":
          return "ﺝ";

        case "fe9e":
        case "\ufe9e":
          return "ﺞ";                                                                                                                                            

        case "fe9f":
        case "\ufe9f":
          return "ﺟ";                                                                                                                                            
          
        case "fe9f":
        case "\ufe9f":
          return "ﺞ";                                                                                                                                            
          
        case "fea0":
        case "\ufea0":
          return "ﺠ";                                                                                                                                            
          
        case "fea1":
        case "\ufea1":
          return "ﺡ";                                                                                                                                            
          
        case "fea2":
        case "\ufea2":
          return "ﺢ";                                                                                                                                            
          
        case "fea3":
        case "\ufea3":
          return "ﺣ";                                                                                                                                            
          
        case "fea4":
        case "\ufea4":
          return "ﺤ";                                                                                                                                            
          
        case "fea5":
        case "\ufea5":
          return "ﺥ";                                                                                                                                            

        case "fea6":
        case "\ufea6":
          return "ﺦ";                                                                                                                                            

        case "fea7":
        case "\ufea7":
          return "ﺧ";                                                                                                                                            

        case "fea8":
        case "\ufea8":
          return "ﺨ";                                                                                                                                            

        case "fea9":
        case "\ufea9":
          return "ﺩ";                                                                                                                                            

        case "feaa":
        case "\ufeaa":
          return "ﺪ";                                                                                                                                            


        case "feab":
        case "\ufeab":
          return "ذ";                                                                                

        case "feac":
        case "\ufeac":
          return "ﺬ";

        case "fead":
        case "\ufead":
          return "ﺭ";

        case "feae":
        case "\ufeae":
          return "ﺮ";

        case "feaf":
        case "\ufeaf":
          return "ز";

        case "feb0":
        case "\ufeb0":
          return "ﺰ";

        case "feb1":
        case "\ufeb1":
          return "ﺱ";

        case "feb2":
        case "\ufeb2":
          return "ﺲ";

        case "feb3":
        case "\ufeb3":
          return "ﺳ";

        case "f3b4":
        case "\uf3b4":
          return "ﺴ";

				default:
					return $i;
			}
}

function convert_codepint_to_farsi($string){
	$arr = str_split($string,6);
	foreach($arr as $v){
		echo codepiont_to_farsichar($v);
	}
}

// convert_codepint_to_farsi("\u0698\u0647\u0645\u0698\u0647\u0645\ufea7\ufea5");



function utf8_to_unicode($str) {

    $unicode = array();        
    $values = array();
    $lookingFor = 1;

    for ($i = 0; $i < strlen($str); $i++) {

        $thisValue = ord($str[$i]);

        if ($thisValue < 128) 
            $unicode[] = str_pad(dechex($thisValue), 4, "0", STR_PAD_LEFT);
        else {
            if (count($values) == 0) $lookingFor = ($thisValue < 224) ? 2 : 3;                
            $values[] = $thisValue;                
            if (count($values) == $lookingFor) {
                $number = ($lookingFor == 3) ?
                (($values[0] % 16) * 4096) + (($values[1] % 64) * 64) + ($values[2] % 64):
                (($values[0] % 32) * 64) + ($values[1] % 64);
                $number = strtoupper(dechex($number));
                $unicode[] = str_pad($number, 4, "0", STR_PAD_LEFT);
                $values = array();
                $lookingFor = 1;
            } // if
        } // if
    } // for
    $str="";
    foreach ($unicode as $key => $value) {
        $str .= $value;
    }

    return ($str);   
} // utf8_to_unicode
